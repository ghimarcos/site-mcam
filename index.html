<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCAM Ferragens</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'mcam-green': {
                            50: '#f1f3f1',
                            100: '#e2e7e3',
                            200: '#c6d0c7',
                            300: '#a9b9ab',
                            400: '#8da28f',
                            500: '#708b74',
                            600: '#55715a',
                            700: '#3d5841',
                            800: '#2a3e2d',
                            900: '#1c2f1f', // Sua cor principal
                        }
                    }
                }
            }
        }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="bg-mcam-green-50 font-sans">

    <header class="bg-gradient-to-r from-mcam-green-900 to-mcam-green-800 shadow-lg sticky top-0 z-20">
        <div class="container mx-auto px-4 py-4 flex flex-wrap justify-between items-center gap-4">
            <a href="/" class="transform hover:scale-105 transition-transform duration-200">
                <img src="assets/logo.webp" alt="Logo da Empresa" class="h-16">
            </a>
            <div class="w-full md:w-auto md:flex-1 max-w-lg relative group order-3 md:order-2">
                <input id="search-input" type="text" placeholder="O que você procura hoje?"
                    class="w-full py-3 pl-5 pr-12 rounded-lg border-2 border-transparent focus:border-mcam-green-500 focus:ring-2 focus:ring-mcam-green-200 transition-all duration-300 bg-white/95">
                <button
                    class="absolute inset-y-0 right-0 flex items-center justify-center w-12 bg-mcam-green-700 rounded-r-lg hover:bg-mcam-green-600 transition-colors duration-200">
                    <svg class="w-5 h-5 text-white" xmlns="http://www.w.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                    </svg>
                </button>
            </div>
            <div class="text-right text-white hidden md:block order-2 md:order-3">
                <div class="flex items-center space-x-3">
                    <div class="bg-mcam-green-700/80 p-3 rounded-full">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 6.75Z" />
                        </svg>
                    </div>
                    <div>
                        <p class="text-sm text-mcam-green-200">Fale Conosco</p>
                        <p class="font-bold text-lg">(43) 99663-9255</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto bg-white min-h-screen">
        <div class="flex flex-col md:flex-row">
            <aside class="w-full md:w-64 border-b md:border-r border-mcam-green-100 p-6">
                <h2
                    class="bg-gradient-to-r from-mcam-green-800 to-mcam-green-700 text-white font-bold p-4 text-lg rounded-lg shadow-md">
                    Categorias
                </h2>
                <ul id="category-list" class="space-y-2 mt-4"></ul>
            </aside>

            <main class="flex-1 p-6">
                <h1 id="category-title"
                    class="text-3xl font-bold text-mcam-green-900 mb-6 border-b-2 border-mcam-green-100 pb-3"></h1>
                <nav id="pagination-controls" class="mb-6"></nav>
                <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </main>
        </div>
    </div>

    <script type="module">
        // --- NOSSO "BANCO DE DADOS" DE PRODUTOS ---
        const products = [
            { id: 1, code: '5001', name: 'FLANGE CARRETA DIVERSAS', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 2, code: '5002', name: 'FLANGE CARRETA RANDON NOVA', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 3, code: '5003', name: 'FLANGE CARRETA MINI RANDON / MB 1113', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 4, code: '5045', name: 'FLANGE CARRETA RANDON NOVA SEM FURO C/ MARCAÇÃO 5F.', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 5, code: '5055', name: 'FLANGE CARRETA BONANO 160MM', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 6, code: '5006', name: 'FLANGE CARRETA DIVERSAS PESCOÇO CURTO', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 7, code: '5007', name: 'FLANGE CARRETA RANDON NOVA PESCOÇO CURTO', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 8, code: '5008', name: 'RÉGUA DIANTEIRA MB 915 / ACELLO / ATEGO', category: 'Metais 01', image: 'assets/batedeira-1.png' },
            { id: 9, code: '5009', name: 'RÉGUA DIANTEIRA VOLVO RODA RAIDADA', category: 'Metais 01', image: 'assets/batedeira-1.png' },
            { id: 10, code: '5010', name: 'RÉGUA DIANTEIRA RODA DISCO', category: 'Metais 01', image: 'assets/batedeira-1.png' },
            { id: 11, code: '5011', name: 'RÉGUA TRAÇÃO VOLVO REDUZIDA', category: 'Metais 01', image: 'assets/batedeira-1.png' },
            { id: 12, code: '5012', name: 'FLANGE RÉGUA VOLVO / FORD CANELA SECA', category: 'Flanges', image: 'assets/batedeira-1.png' },
            { id: 13, code: '3530', name: 'PLACA FECH. P/ PORTA CORRER', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 14, code: '3532', name: 'PLACA FECH. P/ JANELA', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 15, code: '3534', name: 'CONTRA FECH. P/ 3530', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 16, code: '3536', name: 'CONTRA FECH. P/ 3532', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 17, code: '3210 (1520X)', name: 'PLACA FECH. CENTRAL S/ PUXADOR', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 18, code: '3211', name: 'CONTRA FECH. C/ ABA P/ 3210', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 19, code: '3230', name: 'ESPELHO INJETADO REFORÇADO', category: 'Ferragens', image: 'assets/batedeira-1.png' },
            { id: 20, code: '3212', name: 'CONTRA FECH. S/ ABA P/ 3210', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 21, code: '1520', name: 'PLACA INJETADA C/ PARAFUSOS EMBUTIDOS', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 22, code: '1504-A', name: 'ESPELHO EM ALUM. COM BATENTE P/1520 INJETADO REFORÇADO', category: 'Ferragens', image: 'assets/batedeira-1.png' },
            { id: 23, code: '1531', name: 'CONTRA FECH. COM BATENTE P/1520', category: 'Metais 02', image: 'assets/batedeira-1.png' },
            { id: 24, code: '1101', name: 'DOBRADIÇA PIVOTANTE SUPERIOR REFORÇADA', category: 'Ferragens', image: 'assets/batedeira-1.png' },
        ];

        // --- Seletores de Elementos do DOM ---
        const categoryListEl = document.getElementById('category-list');
        const productGridEl = document.getElementById('product-grid');
        const categoryTitleEl = document.getElementById('category-title');
        const paginationControlsEl = document.getElementById('pagination-controls');
        const searchInputEl = document.getElementById('search-input');

        // --- Estado da Aplicação ---
        let currentCategory = 'Todos';
        let currentPage = 1;
        let currentSearchTerm = '';
        const productsPerPage = 6;

        function render() {
            if (!productGridEl || !categoryListEl || !categoryTitleEl || !paginationControlsEl) return;

            const categories = ['Todos', ...new Set(products.map(p => p.category))];
            categoryListEl.innerHTML = categories.map(category => `
                <li><a href="#" class="block px-4 py-2 text-gray-700 hover:bg-mcam-green-50 hover:text-mcam-green-700 rounded-md transition-all duration-200 ${currentCategory === category ? 'bg-mcam-green-100 text-mcam-green-900 font-bold' : ''}" data-category="${category}">${category}</a></li>
            `).join('');

            let filteredProducts = products;
            if (currentCategory !== 'Todos') {
                filteredProducts = filteredProducts.filter(p => p.category === currentCategory);
            }
            if (currentSearchTerm) {
                const term = currentSearchTerm.toLowerCase();
                filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(term) || p.code.toLowerCase().includes(term));
            }

            categoryTitleEl.textContent = currentSearchTerm ? `Resultados para "${currentSearchTerm}"` : (currentCategory === 'Todos' ? 'Produtos em Destaque' : currentCategory);

            const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
            const startIndex = (currentPage - 1) * productsPerPage;
            const paginatedProducts = filteredProducts.slice(startIndex, startIndex + productsPerPage);

            if (paginatedProducts.length === 0) {
                productGridEl.innerHTML = `<p class="col-span-full text-center text-slate-500 py-10">Nenhum produto encontrado.</p>`;
            } else {
                productGridEl.innerHTML = paginatedProducts.map(product => `
                    <div class="bg-white border border-gray-200 rounded-xl shadow-sm text-center flex flex-col group overflow-hidden transition hover:shadow-lg hover:-translate-y-1">
                        <div class="relative"><img src="${product.image}" alt="${product.name}" class="w-full h-48 object-contain p-4 transition-transform duration-300 group-hover:scale-105"></div>
                        <div class="p-4 flex-grow flex flex-col border-t">
                            <h3 class="font-semibold text-gray-800 flex-grow text-sm">${product.name}</h3>
                            <p class="text-xs text-gray-400 mt-2 mb-4">Cód: ${product.code}</p>
                            <button data-code="${product.code}" data-name="${product.name}" class="whatsapp-btn mt-auto w-full bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition-all duration-300 flex items-center justify-center gap-2">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/></svg>
                                <span>WhatsApp</span>
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            paginationControlsEl.innerHTML = '';
            if (totalPages > 1) {
                let paginationHTML = '<div class="flex items-center justify-center space-x-1">';
                for (let i = 1; i <= totalPages; i++) {
                    const isActive = i === currentPage ? 'bg-mcam-green-700 text-white' : 'bg-mcam-green-100 text-mcam-green-800 hover:bg-mcam-green-200';
                    paginationHTML += `<button class="w-10 h-10 rounded-md transition ${isActive}" data-page="${i}">${i}</button>`;
                }
                paginationHTML += '</div>';
                paginationControlsEl.innerHTML = paginationHTML;
            }
        }

        function debounce(func, waitFor) {
            let timeout;
            return (...args) => {
                if (timeout) clearTimeout(timeout);
                timeout = setTimeout(() => func(...args), waitFor);
            };
        }

        categoryListEl?.addEventListener('click', e => {
            e.preventDefault();
            const target = e.target.closest('a');
            if (target?.dataset.category) {
                currentCategory = target.dataset.category;
                currentPage = 1;
                render();
            }
        });

        paginationControlsEl?.addEventListener('click', e => {
            const target = e.target.closest('button');
            if (target?.dataset.page) {
                currentPage = parseInt(target.dataset.page, 10);
                render();
            }
        });

        productGridEl?.addEventListener('click', e => {
            const target = e.target.closest('.whatsapp-btn');
            if (target?.dataset.code && target?.dataset.name) {
                const { code, name } = target.dataset;
                const message = encodeURIComponent(`Olá! Gostaria de um orçamento para: ${name} (código: ${code})`);
                window.open(`https://wa.me/5543996639255?text=${message}`, '_blank');
            }
        });

        searchInputEl?.addEventListener('input', debounce((event) => {
            currentSearchTerm = event.target.value;
            currentPage = 1;
            render();
        }, 300));

        render();
    </script>
</body>

</html>